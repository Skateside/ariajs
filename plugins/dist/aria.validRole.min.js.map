{"version":3,"sources":["aria.validRole.js"],"names":["ARIA","objectAssign","Object","assign","source","arrayLike","offset","arguments","Array","prototype","slice","call","forEach","object","keys","key","tokens","validRoles","create","aria-activedescendant","aria-autocomplete","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-expanded","aria-level","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-required","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","failOnInvalidRole","WARNING_INVALID_ROLE","makeRoleSelector","roles","map","role","join","isRoleValid","element","attribute","isValid","length","is","warn","supplant","on","EVENT_PRE_SET","e","detail","preventDefault","window"],"mappings":"CASC,SAAUA,GAEP,aAaA,IAeIC,EAAeC,OAAOC,QAAU,SAAUC,GAflC,IAAUC,EAAWC,EA6B7B,OA7BkBD,EAiBZE,UAjBuBD,EAiBZ,EAhBVE,MAAMC,UAAUC,MAAMC,KAAKN,EAAWC,IAgBzBM,QAAQ,SAAUC,GAE9BA,GAEAX,OAAOY,KAAKD,GAAQD,QAAQ,SAAUG,GAClCX,EAAOW,GAAOF,EAAOE,OAO1BX,GAIPJ,GAAQA,EAAKgB,SAObhB,EAAKiB,WAAahB,EAAaC,OAAOgB,OAAO,MAAO,CAChDC,wBAAyB,CACrB,cAEA,QACA,UAEA,WACA,OACA,UACA,OACA,UACA,aACA,MACA,YAEA,aACA,UACA,UACA,OACA,YAEJC,oBAAqB,CACjB,WACA,UAEA,aAEJC,eAAgB,CACZ,WACA,SACA,QACA,SAEA,mBACA,gBACA,YAEJC,gBAAiB,CACb,QAEA,OACA,YAEJC,gBAAiB,CACb,OACA,MAEA,eACA,WACA,aAEJC,eAAgB,CACZ,OAEA,eACA,WACA,aAEJC,gBAAiB,CACb,SACA,WACA,WACA,OAKA,QACA,cACA,UACA,SACA,OACA,eACA,gBACA,cACA,aACA,SACA,YACA,OACA,SACA,OACA,OACA,WACA,QACA,UACA,MAEA,OACA,UACA,WACA,MACA,OACA,UACA,OACA,OACA,UACA,aACA,OACA,cACA,aACA,SACA,MACA,YACA,SAEA,SACA,MACA,QACA,WACA,OACA,QACA,UACA,UACA,OACA,WACA,YAEJC,aAAc,CACV,OACA,UACA,MACA,UAEA,WACA,YAEJC,aAAc,CAGV,cACA,UAEJC,iBAAkB,CACd,UAEA,aAEJC,uBAAwB,CACpB,OACA,UACA,UACA,OAEA,YAEJC,mBAAoB,CAChB,YAEA,YACA,SACA,UACA,UAEA,WACA,UACA,OACA,UACA,aACA,OACA,YAEJC,mBAAoB,CAChB,UAEA,aAEJC,gBAAiB,CACb,UACA,WACA,WACA,SACA,QACA,MAEA,mBACA,gBACA,YAEJC,eAAgB,CACZ,UAGJC,gBAAiB,CACb,WACA,WACA,OACA,WACA,UACA,aACA,SACA,aACA,UAEA,eACA,mBACA,gBACA,YACA,YACA,SACA,YAEJC,gBAAiB,CACb,YACA,WACA,UACA,aACA,aACA,UACA,OAEA,eACA,YACA,YACA,YAEJC,gBAAiB,CACb,QAEA,OACA,YAEJC,gBAAiB,CACb,OACA,MAEA,eACA,WACA,cAEJC,eAAgB,CACZ,OAEA,eACA,WACA,aAEJC,gBAAiB,CACb,WACA,SACA,MACA,MAEA,eACA,YACA,YAEJC,eAAgB,CACZ,UACA,WACA,WACA,SACA,QACA,MAEA,mBACA,gBACA,YAEJC,YAAa,CACT,eACA,aAGJC,gBAAiB,CAEb,YACA,YACA,SACA,aAEA,eAEJC,gBAAiB,CAEb,YACA,YACA,SACA,aAEA,eAEJC,gBAAiB,CAEb,YACA,YACA,SACA,aAEA,eAEJC,iBAAkB,CAEd,YAEA,cACA,YACA,SACA,gBASR7C,EAAK8C,mBAAoB,EAMzB9C,EAAK+C,qBAAuB,qFAa5B/C,EAAKgD,iBAAmB,SAAUC,GAE9B,OAAOA,EAAMC,IAAI,SAAUC,GACvB,MAAO,WAAcA,EAAO,OAC7BC,KAAK,MAgBZpD,EAAKqD,YAAc,SAAUC,EAASC,GAElC,IAAItC,EAAajB,EAAKiB,WAAWsC,GAC7BC,GAAU,EAmBd,OAhBIvC,GACGA,EAAWwC,SACVzD,EAAK0D,GAAGJ,EAAStD,EAAKgD,iBAAiB/B,MAG3CjB,EAAK2D,KAAK3D,EAAK4D,SAAS5D,EAAK+C,qBAAsB,CAC/CQ,EACA,IAAMtC,EAAWmC,KAAK,QAAU,OAGhCpD,EAAK8C,oBACLU,GAAU,IAKXA,GAKXxD,EAAK6D,GAAG7D,EAAK8D,cAAe,SAAUC,GAElC,IAAIC,EAASD,EAAEC,OAEVhE,EAAKqD,YAAYW,EAAOV,QAASU,EAAOT,YACzCQ,EAAEE,oBAjblB,CAwbEC,OAAOlE","sourcesContent":["/**\r\n * @file     Adds validation that checks that the element gaining a WAI-ARIA\r\n *           attribute has the appropriate role and that a parent has an\r\n *           appropriate parent role.\r\n * @author   James \"Skateside\" Long\r\n * @license  MIT\r\n * @requires aria.tokens.js\r\n * @requires aria.focus.js\r\n */\r\n(function (ARIA) {\r\n\r\n    \"use strict\";\r\n\r\n    /**\r\n     * A simple wrapper for Array#slice.\r\n     *\r\n     * @private\r\n     * @param   {Array|Object} arrayLike\r\n     *          Array or array-like structure to slice.\r\n     * @param   {Number} [offset]\r\n     *          Optional offset for the slice.\r\n     * @return  {Array}\r\n     *          Sliced array.\r\n     */\r\n    var slice = function (arrayLike, offset) {\r\n        return Array.prototype.slice.call(arrayLike, offset);\r\n    };\r\n\r\n    /**\r\n     * A simple fall-back for Object.assign.\r\n     *\r\n     * @private\r\n     * @param   {Object} source\r\n     *          Source object to modify.\r\n     * @param   {Object} [...objects]\r\n     *          Additional objects to extend the first.\r\n     * @return  {Object}\r\n     *          Extended object.\r\n     */\r\n    var objectAssign = Object.assign || function (source) {\r\n\r\n        slice(arguments, 1).forEach(function (object) {\r\n\r\n            if (object) {\r\n\r\n                Object.keys(object).forEach(function (key) {\r\n                    source[key] = object[key];\r\n                });\r\n\r\n            }\r\n\r\n        });\r\n\r\n        return source;\r\n\r\n    };\r\n\r\n    if (ARIA && ARIA.tokens) {\r\n\r\n        /**\r\n         * The accepted roles for WAI-ARIA attributes. If the attribute isn't in\r\n         * this list, it is assumed that it can be used on any element.\r\n         * @type {Object}\r\n         */\r\n        ARIA.validRoles = objectAssign(Object.create(null), {\r\n            \"aria-activedescendant\": [\r\n                \"application\",\r\n                // \"composite\", // (abstract)\r\n                \"group\",\r\n                \"textbox\",\r\n                // inherited\r\n                \"combobox\",\r\n                \"grid\",\r\n                \"listbox\",\r\n                \"menu\",\r\n                \"menubar\",\r\n                \"radiogroup\",\r\n                \"row\",\r\n                \"searchbox\",\r\n                // \"select\", // (abstract)\r\n                \"spinbutton\",\r\n                \"tablist\",\r\n                \"toolbar\",\r\n                \"tree\",\r\n                \"treegrid\"\r\n            ],\r\n            \"aria-autocomplete\": [\r\n                \"combobox\",\r\n                \"textbox\",\r\n                // inherited\r\n                \"searchbox\"\r\n            ],\r\n            \"aria-checked\": [\r\n                \"checkbox\",\r\n                \"option\",\r\n                \"radio\",\r\n                \"switch\",\r\n                // inherited\r\n                \"menuitemcheckbox\",\r\n                \"menuitemradio\",\r\n                \"treeitem\"\r\n            ],\r\n            \"aria-colcount\": [\r\n                \"table\",\r\n                // inherited\r\n                \"grid\",\r\n                \"treegrid\"\r\n            ],\r\n            \"aria-colindex\": [\r\n                \"cell\",\r\n                \"row\",\r\n                // inherited\r\n                \"columnheader\",\r\n                \"gridcell\",\r\n                \"rowheader\"\r\n            ],\r\n            \"aria-colspan\": [\r\n                \"cell\",\r\n                // inherited\r\n                \"columnheader\",\r\n                \"gridcell\",\r\n                \"rowheader\"\r\n            ],\r\n            \"aria-expanded\": [\r\n                \"button\",\r\n                \"combobox\",\r\n                \"document\",\r\n                \"link\",\r\n                // \"section\", // (abstract)\r\n                // \"sectionhead\", // (abstract)\r\n                // \"window\", // (abstract)\r\n                // inherited\r\n                \"alert\",\r\n                \"alertdialog\",\r\n                \"article\",\r\n                \"banner\",\r\n                \"cell\",\r\n                \"columnheader\",\r\n                \"complementary\",\r\n                \"contentinfo\",\r\n                \"definition\",\r\n                \"dialog\",\r\n                \"directory\",\r\n                \"feed\",\r\n                \"figure\",\r\n                \"form\",\r\n                \"grid\",\r\n                \"gridcell\",\r\n                \"group\",\r\n                \"heading\",\r\n                \"img\",\r\n                // \"landmark\", // (abstract)\r\n                \"list\",\r\n                \"listbox\",\r\n                \"listitem\",\r\n                \"log\",\r\n                \"main\",\r\n                \"marquee\",\r\n                \"math\",\r\n                \"menu\",\r\n                \"menubar\",\r\n                \"navigation\",\r\n                \"note\",\r\n                \"progressbar\",\r\n                \"radiogroup\",\r\n                \"region\",\r\n                \"row\",\r\n                \"rowheader\",\r\n                \"search\",\r\n                // \"select\", // (abstract)\r\n                \"status\",\r\n                \"tab\",\r\n                \"table\",\r\n                \"tabpanel\",\r\n                \"term\",\r\n                \"timer\",\r\n                \"toolbar\",\r\n                \"tooltip\",\r\n                \"tree\",\r\n                \"treegrid\",\r\n                \"treeitem\"\r\n            ],\r\n            \"aria-level\": [\r\n                \"grid\",\r\n                \"heading\",\r\n                \"row\",\r\n                \"tablist\",\r\n                // inherited\r\n                \"treegrid\",\r\n                \"treeitem\"\r\n            ],\r\n            \"aria-modal\": [\r\n                // \"window\", // (abstract)\r\n                // inherited\r\n                \"alertdialog\",\r\n                \"dialog\"\r\n            ],\r\n            \"aria-multiline\": [\r\n                \"textbox\",\r\n                // inherited\r\n                \"searchbox\"\r\n            ],\r\n            \"aria-multiselectable\": [\r\n                \"grid\",\r\n                \"listbox\",\r\n                \"tablist\",\r\n                \"tree\",\r\n                // inherited\r\n                \"treegrid\"\r\n            ],\r\n            \"aria-orientation\": [\r\n                \"scrollbar\",\r\n                // \"select\", // (abstract)\r\n                \"separator\",\r\n                \"slider\",\r\n                \"tablist\",\r\n                \"toolbar\",\r\n                // inherited\r\n                \"combobox\",\r\n                \"listbox\",\r\n                \"menu\",\r\n                \"menubar\",\r\n                \"radiogroup\",\r\n                \"tree\",\r\n                \"treegrid\"\r\n            ],\r\n            \"aria-placeholder\": [\r\n                \"textbox\",\r\n                // inherited\r\n                \"searchbox\"\r\n            ],\r\n            \"aria-posinset\": [\r\n                \"article\",\r\n                \"listitem\",\r\n                \"menuitem\",\r\n                \"option\",\r\n                \"radio\",\r\n                \"tab\",\r\n                // inherited\r\n                \"menuitemcheckbox\",\r\n                \"menuitemradio\",\r\n                \"treeitem\"\r\n            ],\r\n            \"aria-pressed\": [\r\n                \"button\"\r\n                // inherited\r\n            ],\r\n            \"aria-readonly\": [\r\n                \"checkbox\",\r\n                \"combobox\",\r\n                \"grid\",\r\n                \"gridcell\",\r\n                \"listbox\",\r\n                \"radiogroup\",\r\n                \"slider\",\r\n                \"spinbutton\",\r\n                \"textbox\",\r\n                // inherited\r\n                \"columnheader\",\r\n                \"menuitemcheckbox\",\r\n                \"menuitemradio\",\r\n                \"rowheader\",\r\n                \"searchbox\",\r\n                \"switch\",\r\n                \"treegrid\"\r\n            ],\r\n            \"aria-required\": [\r\n                \"comboxbox\",\r\n                \"gridcell\",\r\n                \"listbox\",\r\n                \"radiogroup\",\r\n                \"spinbutton\",\r\n                \"textbox\",\r\n                \"tree\",\r\n                // inherited\r\n                \"columnheader\",\r\n                \"rowheader\",\r\n                \"searchbox\",\r\n                \"treegrid\"\r\n            ],\r\n            \"aria-rowcount\": [\r\n                \"table\",\r\n                // inherited\r\n                \"grid\",\r\n                \"treegrid\"\r\n            ],\r\n            \"aria-rowindex\": [\r\n                \"cell\",\r\n                \"row\",\r\n                // inherited\r\n                \"columnheader\",\r\n                \"gridcell\",\r\n                \"rownheader\"\r\n            ],\r\n            \"aria-rowspan\": [\r\n                \"cell\",\r\n                // inherited\r\n                \"columnheader\",\r\n                \"gridcell\",\r\n                \"rowheader\"\r\n            ],\r\n            \"aria-selected\": [\r\n                \"gridcell\",\r\n                \"option\",\r\n                \"row\",\r\n                \"tab\",\r\n                // inherited\r\n                \"columnheader\",\r\n                \"rowheader\",\r\n                \"treeitem\"\r\n            ],\r\n            \"aria-setsize\": [\r\n                \"article\",\r\n                \"listitem\",\r\n                \"menuitem\",\r\n                \"option\",\r\n                \"radio\",\r\n                \"tab\",\r\n                // inherited\r\n                \"menuitemcheckbox\",\r\n                \"menuitemradio\",\r\n                \"treeitem\"\r\n            ],\r\n            \"aria-sort\": [\r\n                \"columnheader\",\r\n                \"rowheader\"\r\n                // inherited\r\n            ],\r\n            \"aria-valuemax\": [\r\n                // \"range\", // (abstract)\r\n                \"scrollbar\",\r\n                \"separator\",\r\n                \"slider\",\r\n                \"spinbutton\",\r\n                // inherited\r\n                \"progressbar\"\r\n            ],\r\n            \"aria-valuemin\": [\r\n                // \"range\", // (abstract)\r\n                \"scrollbar\",\r\n                \"separator\",\r\n                \"slider\",\r\n                \"spinbutton\",\r\n                // inherited\r\n                \"progressbar\"\r\n            ],\r\n            \"aria-valuenow\": [\r\n                // \"range\", // (abstract)\r\n                \"scrollbar\",\r\n                \"separator\",\r\n                \"slider\",\r\n                \"spinbutton\",\r\n                // inherited\r\n                \"progressbar\"\r\n            ],\r\n            \"aria-valuetext\": [\r\n                // \"range\", // (abstract)\r\n                \"separator\",\r\n                // inherited\r\n                \"progressbar\",\r\n                \"scrollbar\",\r\n                \"slider\",\r\n                \"spinbutton\"\r\n            ]\r\n        });\r\n\r\n        /**\r\n         * If true, trying to set a WAI-ARIA attribute on an element without the\r\n         * correct role set will fail.\r\n         * @type {Boolean}\r\n         */\r\n        ARIA.failOnInvalidRole = false;\r\n\r\n        /**\r\n         * A warning message for the element not having the correct role.\r\n         * @type {String}\r\n         */\r\n        ARIA.WARNING_INVALID_ROLE = (\r\n            \"The '{0}' attribute should be applied to an element having one \" +\r\n            \"of these roles: {1}\"\r\n        );\r\n\r\n        /**\r\n         * Converts an array of roles into a CSS selector matching any of them.\r\n         *\r\n         * @param  {Array.<String>} roles\r\n         *         Roles to convert into a CSS selector.\r\n         * @return {String}\r\n         *         CSS selector that matches any of the roles.\r\n         */\r\n        ARIA.makeRoleSelector = function (roles) {\r\n\r\n            return roles.map(function (role) {\r\n                return \"[role~=\\\"\" + role + \"\\\"]\";\r\n            }).join(\",\");\r\n\r\n        };\r\n\r\n        /**\r\n         * Checks to see that the given element has the correct role.\r\n         *\r\n         * @param  {Element} element\r\n         *         Element to check.\r\n         * @param  {String} attribute\r\n         *         Attribute to check.\r\n         * @return {Boolean}\r\n         *         false if the element or does not have the correct role and\r\n         *         {@link ARIA.failOnInvalidRole} is set to true. In all other\r\n         *         cases, this will be true.\r\n         */\r\n        ARIA.isRoleValid = function (element, attribute) {\r\n\r\n            var validRoles = ARIA.validRoles[attribute];\r\n            var isValid = true;\r\n\r\n            if (\r\n                validRoles\r\n                && validRoles.length\r\n                && !ARIA.is(element, ARIA.makeRoleSelector(validRoles))\r\n            ) {\r\n\r\n                ARIA.warn(ARIA.supplant(ARIA.WARNING_INVALID_ROLE, [\r\n                    attribute,\r\n                    \"'\" + validRoles.join(\"', '\") + \"'\"\r\n                ]));\r\n\r\n                if (ARIA.failOnInvalidRole) {\r\n                    isValid = false;\r\n                }\r\n\r\n            }\r\n\r\n            return isValid;\r\n\r\n        };\r\n\r\n        // Add validation.\r\n        ARIA.on(ARIA.EVENT_PRE_SET, function (e) {\r\n\r\n            var detail = e.detail;\r\n\r\n            if (!ARIA.isRoleValid(detail.element, detail.attribute)) {\r\n                e.preventDefault();\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n\r\n}(window.ARIA));\r\n"],"file":"aria.validRole.min.js"}