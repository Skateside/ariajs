/*! ariajs - v0.1.0 - MIT license - https://github.com/Skateside/ariajs - 2018-10-26 */
!function(t){"use strict";var e={factories:Object.create(null),translate:Object.create(null)};Object.defineProperty(e,"VERSION",{configurable:!1,enumerable:!0,writable:!1,value:"0.1.0"});var r=function(t){return t},i=Array.from||function(t,e,i){return void 0===e&&(e=r),Array.prototype.map.call(t,e,i)},n=function(t){var r="aria-"+String(t).toLowerCase().replace(/^\s*(?:aria\-)?|\s*$/g,"");return e.translate[r]||r},o={configurable:!1,enumerable:!0,get:function(){return n},set:function(t){n=t}};Object.defineProperties(e,{normalise:o,normalize:o});var s=function(){},a=/return/.test(s)?/[.'"]\$super\b/:/.*/;function u(t,e){var r=this.parent;"object"==typeof t?Object.keys(t).forEach(function(e){u.call(this,e,t[e])},this):this.prototype[t]="function"==typeof e&&"function"==typeof r[t]&&a.test(e)?function(){var i,n="$super"in this,o=this.$super;return this.$super=r[t],i=e.apply(this,arguments),n?this.$super=o:delete this.$super,i}:e}e.createClass=function(t,e){function r(){return this.init.apply(this,arguments)}return e||(e=t,t=Object),r.addMethod=u,r.addMethods=u,r.parent=t.prototype,r.prototype=Object.create(t.prototype),u.call(r,e),r.prototype.constructor=r,"function"!=typeof r.prototype.init&&(r.prototype.init=s),r},e.getFactory=function(t){return e.factories[t]||e.factories[e.normalise(t)]},e.runFactory=function(t){var r=e.getFactory(t);if(!r)throw new ReferenceError(t+" is not a recognised factory");return r.apply(void 0,Array.prototype.slice.call(arguments,1))},e.addAlias=function(t,r){var i=e.normalise(t).slice(5);if(Array.isArray(r)||(r=[r]),!e.getFactory(i))throw new ReferenceError("ARIA.factories."+i+" does not exist");r.forEach(function(t){var r=e.normalise(t).slice(5);e.translate[r]=i,e.factories[r]=e.factories[i]})},e.setAttribute=function(t,e,r){t.setAttribute(e,r)},e.getAttribute=function(t,e){return t.getAttribute(e)},e.hasAttribute=function(t,e){return t.hasAttribute(e)},e.removeAttribute=function(t,e){t.removeAttribute(e)},e.getById=function(t){return document.getElementById(t)};var c=0;e.defaultIdentifyPrefix="anonymous-element-",e.identify=function(t,r){var i=e.getAttribute(t,"id");if(void 0===r&&(r=e.defaultIdentifyPrefix),!i){do{i=r+c,c+=1}while(e.getById(i));e.setAttribute(t,"id",i)}return i},e.isNode=function(t){return t instanceof Node},e.setTabindex=function(t,r){var i=-1===r||r>=0&&r<32767?Math.floor(r):void 0;void 0===i||isNaN(i)||e.setAttribute(t,"tabindex",i)},e.removeTabindex=function(t){e.removeAttribute(t,"tabindex")},e.addToTabOrder=function(t){e.setTabindex(t,0)},e.removeFromTabOrder=function(t){e.setTabindex(t,-1)},e.Property=e.createClass({init:function(t,e){var r=this;r.element=t,r.attribute=e,r.hasAttribute()&&r.set(r.getAttribute()),Object.defineProperty(r,"value",{get:function(){return r.toString()}})},setTokens:function(t){this.tokens=i(t)},setPattern:function(t){this.pattern=t},isValidToken:function(t){var e=this.tokens,r=this.pattern,i=!0;return e&&e.length?i=e.indexOf(t)>-1:r&&(i=r.test(t)),i},interpret:function(t){return e.Property.interpret(t)},set:function(t){var e=this.interpret(t);""!==e&&this.isValidToken(e)?this.setAttribute(e):""===e&&this.removeAttribute()},get:function(){return this.interpret(this.getAttribute())},has:function(){return this.hasAttribute()},remove:function(){this.removeAttribute()},setAttribute:function(t){""!==e.Property.interpret(t)?e.setAttribute(this.element,this.attribute,t):this.removeAttribute()},getAttribute:function(){return e.getAttribute(this.element,this.attribute)},hasAttribute:function(){return e.hasAttribute(this.element,this.attribute)},removeAttribute:function(){e.removeAttribute(this.element,this.attribute)},toString:function(){return this.getAttribute()||""}}),e.Property.interpret=function(t){return null==t?"":String(t).trim()},e.Integer=e.createClass(e.Property,{init:function(t,e){this.$super(t,e),this.setPattern(/^\d+$/)},interpret:function(t){var e=this.$super(t);return""===e?NaN:Math.floor(e)}}),e.Number=e.createClass(e.Property,{init:function(t,e){this.$super(t,e),this.setPattern(/^(\d+(\.\d+)?)|\.\d+$/)},interpret:function(t){var e=this.$super(t);return""===e?NaN:parseFloat(e)}}),e.State=e.createClass(e.Property,{isValidToken:function(t){return"boolean"==typeof t||"true"===t||"false"===t},interpret:function(t){return"boolean"==typeof t?!0===t:"true"===t||"false"===t?"true"===t:""}}),e.UndefinedState=e.createClass(e.State,{isValidToken:function(t){return void 0===t||"undefined"===t||this.$super(t)},interpret:function(t){return void 0===t||"undefined"===t?"undefined":this.$super(t)},get:function(){var t=this.$super();return"undefined"===t&&(t=void 0),t}}),e.Tristate=e.createClass(e.State,{isValidToken:function(t){return"mixed"===t||this.$super(t)},interpret:function(t){return"mixed"===t?t:this.$super(t)}});var l=new WeakMap,f=function(t,e){var r=0,i=t.get(),n=i.length;return{next:function(){var t={value:e(i,r),done:r>=n};return r+=1,t},toString:function(){return"Array Iterator"}}},h=function(t,e){this.name=t,this.code=DOMException[t],this.message=e};h.prototype=Error.prototype,e.List=e.createClass(e.Property,{init:function(t,e){var r=this;l.set(r,[]),Object.defineProperty(r,"length",{get:function(){return l.get(r).length}}),this.$super(t,e)},isValidToken:function(t){if(""===t)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");return this.$super(t)},interpret:function(t){var e=Array.isArray(t)?t.join(" "):t,r=this.$super(e);return r.length?r.split(/\s+/):[]},set:function(t){var e=this.interpret(t),r=this.toArray().filter(function(t){return e.indexOf(t)<0});e.length&&this.add.apply(this,e),r.length&&this.remove.apply(this,r),this.setAttribute(this.toString())},get:function(){return this.interpret(this.toString())},has:function(t){return void 0===t?this.hasAttribute():this.contains(t)},toString:function(t){return void 0===t&&(t=" "),l.get(this).join(t)},add:function(){var t=l.get(this);arguments.length&&(i(arguments,function(e){var r=this.interpret(e)[0];this.isValidToken(r)&&t.indexOf(r)<0&&t.push(r)},this),this.setAttribute(this.toString()))},remove:function(){var t,e=l.get(this);arguments.length?(i(arguments,function(t){var r=this.interpret(t)[0],i=this.isValidToken(r)&&e.indexOf(r);i>-1&&e.splice(i,1)},this),""===(t=this.toString())?this.removeAttribute():this.setAttribute(t)):(e.length=0,this.removeAttribute())},contains:function(t){var e=this.interpret(t)[0];return this.isValidToken(e)&&l.get(this).indexOf(e)>-1},item:function(t){return l.get(this)[Math.floor(t)]||null},replace:function(t,e){var r,i,n=!1,o=this.interpret(t)[0],s=this.interpret(e)[0];return this.isValidToken(o)&&this.isValidToken(s)&&(i=(r=l.get(this)).indexOf(o))>-1&&(r.splice(i,1,s),n=!0),n},forEach:function(t,e){l.get(this).forEach(t,e)},toArray:function(t,e){return i(l.get(this),t,e)},entries:function(){return f(this,function(t,e){return[e,t[e]]})},keys:function(){return f(this,function(t,e){return e})},values:function(){return f(this,function(t,e){return t[e]})}}),window.Symbol&&Symbol.iterator&&(e.List.prototype[Symbol.iterator]=e.List.prototype.values),e.Reference=e.createClass(e.Property,{interpret:function(t){return e.Reference.interpret(t)},get:function(){return e.getById(this.getAttribute())},has:function(){return this.hasAttribute()&&null!==this.get()}}),e.Reference.interpret=function(t){return e.isNode(t)?e.identify(t):e.Property.interpret(t)},e.ReferenceList=e.createClass(e.List,{interpret:function(t){return(t&&"object"==typeof t&&"number"==typeof t.length?i(t,e.Reference.interpret,this):"string"==typeof t?this.$super(t):[e.Reference.interpret(t)]).filter(Boolean)},get:function(){return this.toArray(e.getById)},has:function(t){return this.hasAttribute()&&(void 0===t?this.get().filter(Boolean).length===this.length:this.contains(t))}}),e.Element=e.createClass({init:function(t){this.element=t,this.manipulationFlags=Object.create(null),this.preloadAttributes(),this.readAttributes(),this.observeAttributes()},preloadAttributes:function(){Object.keys(e.factories).forEach(function(t){var r;Object.defineProperty(this,t,{get:function(){return r||(r=e.runFactory(t,this.element,e.normalise(t))),r},set:function(e){this[t].set(e)}})},this)},readAttributes:function(){var t=Object.prototype.hasOwnProperty;i(this.element.attributes,function(e){var r=e.name.replace(/^aria\-/,"");t.call(this,r)&&this[r].set(e.value)},this)},observeAttributes:function(){var t=this,r=t.element,i=new MutationObserver(function(i){i.forEach(function(i){var n,o=i.attributeName||"",s=o.slice(5);"attributes"===i.type&&e.factories[s]&&!t.manipulationFlags[s]&&(t.manipulationFlags[s]=!0,e.hasAttribute(r,o)?(n=e.Property.interpret(e.getAttribute(r,o)))!==e.Property.interpret(i.oldValue)&&t[s].set(n):t[s].remove(),window.setTimeout(function(){delete t.manipulationFlags[s]},0))})});i.observe(r,{attributes:!0,attributeOldValue:!0}),t.observer=i},disconnectAttributes:function(){this.observer.disconnect()}});var p=e.Property,d=e.List;function b(t,e,r){var i={configurable:!0,get:function r(){return Object.defineProperty(Node.prototype,t,{get:void 0}),Object.defineProperty(this,t,{value:e(this)}),Object.defineProperty(Node.prototype,t,{get:r}),this[t]}};r&&Object.keys(r).forEach(function(t){i[t]=r[t]}),Object.defineProperty(Node.prototype,t,i)}[[p,["keyshortcuts","label","placeholder","roledescription","valuetext"]],[e.Reference,["activedescendant","details","errormessage"]],[e.ReferenceList,["controls","describedby","flowto","labelledby","owns"]],[e.State,["atomic","busy","disabled","modal","multiline","multiselectable","readonly","required"]],[e.Tristate,["checked","pressed"]],[e.UndefinedState,["expanded","grabbed","hidden","selected"]],[e.Integer,["colcount","colindex","colspan","level","posinset","rowcount","rowindex","rowspan","setsize"]],[e.Number,["valuemax","valuemin","valuenow"]],[p,["autocomplete"],["none","inline","list","both"]],[p,["current"],["false","true","page","step","location","date","time"]],[p,["haspopup"],["false","true","menu","listbox","tree","grid","dialog"]],[p,["invalid"],["false","true","grammar","spelling"]],[p,["live"],["off","assertive","polite"]],[p,["orientation"],[void 0,"undefined","horizontal","vertical"]],[p,["sort"],["none","ascending","descending","other"]],[d,["dropeffect"],["none","copy","execute","link","move","popup"]],[d,["relevant"],["additions","all","removals","text"]]].forEach(function(t){t[1].forEach(function(r){var i,n;e.factories[r]=(i=t[0],n=t[2],function(t,e){var r=new i(t,e);return n&&n.length&&r.setTokens(n),r})})}),e.addAlias("labelledby","labeledby"),b("aria",function(t){return new e.Element(t)});var g=["alert","alertdialog","application","article","banner","button","cell","checkbox","columnheader","complementary","combobox","contentinfo","definition","dialog","directory","document","feed","figure","form","grid","gridcell","group","heading","img","link","list","listbox","listitem","log","main","marquee","math","menu","menubar","menuitem","menuitemcheckbox","menuitemradio","navigation","none","note","option","presentation","progressbar","radio","radiogroup","region","row","rowgroup","rowheader","scrollbar","search","searchbox","separator","slider","spinbutton","status","switch","tab","table","tablist","tabpanel","term","textbox","timer","toolbar","tooltip","tree","treegrid","treeitem"];b("role",function(t){var e=new d(t,"role");return e.setTokens(g),e},{set:function(t){this.role.set(t)}}),t.ARIA=e}(window);
//# sourceMappingURL=aria.min.js.map
