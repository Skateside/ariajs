/*! ariajs - v0.2.0 - MIT license - https://github.com/Skateside/ariajs - 2018-11-11 */
!function(t){"use strict";var e=function(t){return t},r=function(t,e){return Array.prototype.slice.call(t,e)},n=Array.from||function(t,r,n){return void 0===r&&(r=e),Array.prototype.map.call(t,r,n)},i=Object.assign||function(t){return r(arguments,1).forEach(function(e){e&&Object.keys(e).forEach(function(r){t[r]=e[r]})}),t},o=function(){},a=/return/.test(o)?/[.'"]\$super\b/:/.*/,s={tokens:i(Object.create(null),{"aria-autocomplete":["none","inline","list","both"],"aria-current":["false","true","page","step","location","date","time"],"aria-dropeffect":["none","copy","execute","link","move","popup"],"aria-haspopup":["false","true","menu","listbox","tree","grid","dialog"],"aria-invalid":["false","true","grammar","spelling"],"aria-live":["off","assertive","polite"],"aria-orientation":["undefined","horizontal","vertical"],"aria-relevant":["additions","all","removals","text"],"aria-sort":["none","ascending","descending","other"],role:["alert","alertdialog","application","article","banner","button","cell","checkbox","columnheader","complementary","combobox","contentinfo","definition","dialog","directory","document","feed","figure","form","grid","gridcell","group","heading","img","link","list","listbox","listitem","log","main","marquee","math","menu","menubar","menuitem","menuitemcheckbox","menuitemradio","navigation","none","note","option","presentation","progressbar","radio","radiogroup","region","row","rowgroup","rowheader","scrollbar","search","searchbox","separator","slider","spinbutton","status","switch","tab","table","tablist","tabpanel","term","textbox","timer","toolbar","tooltip","tree","treegrid","treeitem"]})};Object.defineProperty(s,"VERSION",{configurable:!1,enumerable:!0,writable:!1,value:"0.2.0"});var u=t.ARIA;t.ARIA=s,s.getPrevious=function(){return u},s.restorePrevious=function(){return t.ARIA=u,s},s.extendDOM={aria:"aria",role:"role"};var c=function(t){var e="aria-"+String(t).toLowerCase().replace(/^\s*(?:aria\-)?|\s*$/g,"");return s.translate[e]||e},l={configurable:!1,enumerable:!0,get:function(){return c},set:function(t){c=t}};function f(t,e){var r=this.parent;"object"==typeof t?Object.keys(t).forEach(function(e){f.call(this,e,t[e])},this):this.prototype[t]="function"==typeof e&&"function"==typeof r[t]&&a.test(e)?function(){var n,i="$super"in this,o=this.$super;return this.$super=r[t],n=e.apply(this,arguments),i?this.$super=o:delete this.$super,n}:e}Object.defineProperties(s,{normalise:l,normalize:l}),s.suffixMap=Object.create(null),s.getSuffix=function(t){var e=s.suffixMap[t];return e||(e=t.replace(/^aria\-/,""),s.suffixMap[t]=e),e},s.createClass=function(t,e){function r(){return this.init.apply(this,arguments)}return e||(e=t,t=Object),r.addMethod=f,r.addMethods=f,r.parent=t.prototype,r.prototype=Object.create(t.prototype),f.call(r,e),r.prototype.constructor=r,"function"!=typeof r.prototype.init&&(r.prototype.init=o),r},s.setAttribute=function(t,e,r){t.setAttribute(e,r)},s.getAttribute=function(t,e){return t.getAttribute(e)},s.hasAttribute=function(t,e){return t.hasAttribute(e)},s.removeAttribute=function(t,e){t.removeAttribute(e)},s.is=Element.prototype.matches?function(t,e){return t.matches(e)}:Element.prototype.msMatchesSelector?function(t,e){return t.msMatchesSelector(e)}:function(t,e){for(var r=document.querySelectorAll(e),n=r.length,i=!1;n;)if(r[n-=1]===t){i=!0;break}return i},s.getById=function(t){return document.getElementById(t)};var p=0;if(s.defaultIdentifyPrefix="anonymous-element-",s.identify=function(t,e){var r=s.getAttribute(t,"id");if(void 0===e&&(e=s.defaultIdentifyPrefix),!r){do{r=e+p,p+=1}while(s.getById(r));s.setAttribute(t,"id",r)}return r},s.isNode=function(t){return t instanceof Node},s.focusable='a[href],button,iframe,input,select,textarea,[tabindex],[contentEditable="true"]',s.makeFocusable=function(t,e,r){s.is(t,s.focusable)&&!r||(void 0===e?e=-1:-1!==e&&"-1"!==e&&(e=Math.floor(Math.max(0,Math.min(32766,e)))),isNaN(e)||s.setAttribute(t,"tabindex",e))},s.resetFocusable=function(t){s.removeAttribute(t,"tabindex")},s.WARNING_INVALID_TOKEN="'{0}' is not a valid token for the '{1}' attribute",s.supplant=function(t,e){return t.replace(/\{(\d+)\}/g,function(t,r){var n=e[r];return"string"==typeof n||"number"==typeof n?n:t})},s.enableWarnings=!0,s.warn=function(t){s.enableWarnings&&console.warn("aria.js: "+s.supplant(t,r(arguments,1)))},s.Property=s.createClass({init:function(t,e,r){this.element=t,this.attribute=e,this.tokens=r&&Array.isArray(r)?r:[],s.hasAttribute(t,e)&&this.set(s.getAttribute(t,e))},interpret:function(t){return s.Property.interpret(t)},isValidToken:function(t){var e=!this.tokens.length||this.tokens.indexOf(t)>-1;return e||s.warn(s.WARNING_INVALID_TOKEN,t,this.attribute),e},get:function(){var t=this.element,e=this.attribute;return s.hasAttribute(t,e)?this.interpret(s.getAttribute(t,e)):null},set:function(t){var e=this.element,r=this.attribute,n=this.interpret(t);""!==n&&this.isValidToken(n)?s.setAttribute(e,r,n):""===n&&s.removeAttribute(e,r)},toString:function(){return s.getAttribute(this.element,this.attribute)||""}}),s.Property.interpret=function(t){return null==t?"":String(t).trim()},s.Number=s.createClass(s.Property,{interpret:function(t){return parseFloat(this.$super(t))},isValidToken:function(t){var e=!isNaN(this.interpret(t));return e||s.warn(s.WARNING_INVALID_TOKEN,t,this.attribute),e}}),s.Integer=s.createClass(s.Number,{interpret:function(t){return Math.floor(this.$super(t))}}),s.State=s.createClass(s.Property,{init:function(t,e){this.$super(t,e,["true","false"])},isValidToken:function(t){return"boolean"==typeof t||this.$super(t)},interpret:function(t){var e=this.$super(t),r="true"===e;return r||"false"===e?r:e}}),s.UndefinedState=s.createClass(s.State,{init:function(t,e){this.$super(t,e),this.tokens.push("undefined")},isValidToken:function(t){return void 0===t||this.$super(t)},interpret:function(t){return void 0===t||"undefined"===t?"undefined":this.$super(t)},get:function(){var t=this.$super();return"undefined"===t&&(t=void 0),t}}),s.Tristate=s.createClass(s.State,{init:function(t,e){this.$super(t,e),this.tokens.push("mixed")},interpret:function(t){return"mixed"===t?t:this.$super(t)}}),s.List=s.createClass(s.Property,{init:function(t,e,r){this.list=[],this.$super(t,e,r)},interpret:function(t){var e=Array.isArray(t)?t.join(" "):t,r=this.$super(e);return r.length?r.split(/\s+/):[]},set:function(t){var e=this,r=e.interpret(t).reduce(function(t,r){return r&&e.isValidToken(r)&&t.indexOf(r)<0&&t.push(r),t},[]),n=e.element,i=e.attribute;e.list=r,r.length?s.setAttribute(n,i,r.join(" ")):s.removeAttribute(n,i)},get:function(){return this.list.concat()}}),s.Reference=s.createClass(s.Property,{interpret:function(t){return s.Reference.interpret(t)},get:function(){return s.getById(this.$super())}}),s.Reference.interpret=function(t){return s.isNode(t)?s.identify(t):s.Property.interpret(t)},s.ReferenceList=s.createClass(s.List,{interpret:function(t){return(t&&"object"==typeof t&&"number"==typeof t.length?n(t,s.Reference.interpret,this):"string"==typeof t?this.$super(t):[s.Reference.interpret(t)]).filter(Boolean)},get:function(){return this.$super().map(s.getById)}}),s.Element=s.createClass({init:function(t){return this.element=t,this.manipulationFlags=Object.create(null),this.instances=Object.create(null),this.readAttributes(),this.observeAttributes(),this.activateTraps()},getInstance:function(t){var e=this.instances[t];return!e&&s.getFactory(t)&&(e=s.runFactory(t,this.element),this.instances[t]=e),e},readAttributes:function(){n(this.element.attributes,function(t){var e=t.value,r=e?this.getInstance(t.name):void 0;r&&r.set(e)},this)},observeAttributes:function(){var t=this,e=t.element,r=new MutationObserver(function(r){r.forEach(function(r){var n,i=r.attributeName||"",o=i.slice(5);"attributes"===r.type&&s.factories[o]&&!t.manipulationFlags[o]&&(t.manipulationFlags[o]=!0,s.hasAttribute(e,i)?(n=s.Property.interpret(s.getAttribute(e,i)))!==s.Property.interpret(r.oldValue)&&(t[o]=n):t[o]="",window.setTimeout(function(){delete t.manipulationFlags[o]},0))})});r.observe(e,{attributes:!0,attributeOldValue:!0}),t.observer=r},disconnectAttributes:function(){this.observer.disconnect()},activateTraps:function(){return new Proxy(this,{get:function(t,e){var r=t[e],n=t.getInstance(e);return n&&(r=n.get()),r},set:function(t,e,r){var n=t.getInstance(e);return n?n.set(r):t[e]=r,r},deleteProperty:function(t,e){var r=t.getInstance(e),n=!1;return r?(r.set(""),n=!0):n=delete t[e],n}})}}),!t.Proxy){var d=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)};s.Element.prototype.activateTraps=function(){var t=this,e=Object.prototype.hasOwnProperty.bind(t);Object.keys(s.factories).forEach(function r(n){var i=!1;Object.defineProperty(t,n,{configurable:!0,get:function(){return t.getInstance(n).get()},set:function(o){var a=t.getInstance(n);return""===o?i=!1:""===o||i||(d(function t(){i&&(e(n)?(d(t),i=!0):(i=!1,a.set(""),r(n)))},delay),i=!0),a.set(o)}})})}}s.factories=Object.create(null),s.translate=Object.create(null),s.getFactory=function(t){return s.factories[t]||s.factories[s.getSuffix(s.normalise(t))]},s.runFactory=function(t){var e=s.getFactory(t);if(!e)throw new ReferenceError(t+" is not a recognised factory");return e.apply(void 0,r(arguments,1))},[[s.Property,["autocomplete","current","haspopup","invalid","keyshortcuts","label","live","orientation","placeholder","roledescription","sort","valuetext"]],[s.Reference,["activedescendant","details","errormessage"]],[s.ReferenceList,["controls","describedby","flowto","labelledby","owns"]],[s.State,["atomic","busy","disabled","modal","multiline","multiselectable","readonly","required"]],[s.Tristate,["checked","pressed"]],[s.UndefinedState,["expanded","grabbed","hidden","selected"]],[s.Integer,["colcount","colindex","colspan","level","posinset","rowcount","rowindex","rowspan","setsize"]],[s.Number,["valuemax","valuemin","valuenow"]],[s.List,["dropeffect","relevant"]]].forEach(function(t){t[1].forEach(function(e){var r=s.normalise(e);s.factories[e]=function(e){var n=s.tokens[r];return n||(n=[],s.tokens[r]=n),new t[0](e,r,n)}})}),s.addAlias=function(t,e){var r=s.normalise(t).slice(5);if(Array.isArray(e)||(e=[e]),!s.getFactory(r))throw new ReferenceError("ARIA.factories."+r+" does not exist");e.forEach(function(t){var e=s.normalise(t).slice(5);s.translate[e]=r,s.factories[e]=s.factories[r]})},s.addAlias("labelledby","labeledby"),function(t){var e="",r=!0,n="",i=!0,o=new WeakMap;function a(e){var r=o.get(e);return r||(r=new t.List(e,"role",t.tokens.role),o.set(e,r)),r}function s(t){return a(t).get()}function u(t,e,r,n){var i={configurable:!0,get:function n(){return Object.defineProperty(Node.prototype,t,{get:void 0}),Object.defineProperty(this,t,{value:e(this)}),Object.defineProperty(Node.prototype,t,{get:n}),"function"==typeof r?r(this):this[t]}};n&&Object.keys(n).forEach(function(t){i[t]=n[t]}),Object.defineProperty(Node.prototype,t,i)}if(t&&t.extendDOM){if(e=t.extendDOM.aria,i="string"==typeof(n=t.extendDOM.role),(r="string"==typeof e)&&i&&e.trim()===n.trim())throw new Error("aria.js: ARIA.extendDOM.aria cannot be the same as ARIA.extendDOM.role");r&&u(e.trim(),function(e){return new t.Element(e)}),i&&u(n.trim(),s,s,{set:function(t){a(this).set(t)}})}}(window.ARIA)}(window);
//# sourceMappingURL=aria.min.js.map
