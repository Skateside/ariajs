/*! ariajs - v1.0.0 - MIT license - https://github.com/Skateside/ariajs - 2018-10-20 */
!function(t){"use strict";var e={factories:Object.create(null),translate:Object.create(null)};Object.defineProperty(e,"VERSION",{configurable:!1,enumerable:!0,writable:!1,value:"1.0.0"});var r=function(t){return t},n=Array.from||function(t,e,n){return void 0===e&&(e=r),Array.prototype.map.call(t,e,n)},i=function(t){var r="aria-"+String(t).toLowerCase().replace(/^\s*(?:aria\-)?|\s*$/g,"");return e.translate[r]||r},o={configurable:!1,enumerable:!0,get:function(){return i},set:function(t){i=t}};Object.defineProperties(e,{normalise:o,normalize:o});var s=function(){},a=/return/.test(s)?/[.'"]\$super\b/:/.*/;function u(t,e){var r=this.parent;"object"==typeof t?Object.keys(t).forEach(function(e){u.call(this,e,t[e])},this):this.prototype[t]="function"==typeof e&&"function"==typeof r[t]&&a.test(e)?function(){var n,i="$super"in this,o=this.$super;return this.$super=r[t],n=e.apply(this,arguments),i?this.$super=o:delete this.$super,n}:e}e.createClass=function(t,e){function r(){return this.init.apply(this,arguments)}return e||(e=t,t=Object),r.addMethod=u,r.addMethods=u,r.parent=t.prototype,r.prototype=Object.create(t.prototype),u.call(r,e),r.prototype.constructor=r,"function"!=typeof r.prototype.init&&(r.prototype.init=s),r},e.getFactory=function(t){return e.factories[t]||e.factories[e.normalise(t)]},e.runFactory=function(t){var r=e.getFactory(t);if(!r)throw new ReferenceError(t+" is not a recognised factory");return r.apply(void 0,Array.prototype.slice.call(arguments,1))},e.addAlias=function(t,r){var n=e.normalise(t).slice(5);if(Array.isArray(r)||(r=[r]),!e.getFactory(n))throw new ReferenceError("ARIA.factories."+n+" does not exist");r.forEach(function(t){var r=e.normalise(t).slice(5);e.translate[r]=n,e.factories[r]=e.factories[n]})},e.getById=function(t){return document.getElementById(t)};var c=0;e.defaultIdentifyPrefix="anonymous-element-",e.identify=function(t,r){var n=t.id;if(void 0===r&&(r=e.defaultIdentifyPrefix),!n){do{n=r+c,c+=1}while(e.getById(n));t.id=n}return n},e.isNode=function(t){return t instanceof Node},e.addToTabOrder=function(t,e){t.setAttribute("tabindex",parseInt(e,10)||0)},e.removeFromTabOrder=function(t){this.addToTabOrder(t,-1)},e.resetTabOrder=function(t){t.removeAttribute("tabindex")},e.Property=e.createClass({init:function(t,e){var r=this;r.element=t,r.attribute=e,r.hasAttribute()&&r.set(r.getAttribute()),Object.defineProperty(r,"value",{get:function(){return r.toString()}})},setTokens:function(t){this.tokens=n(t)},setPattern:function(t){this.pattern=t},isValidToken:function(t){var e=this.tokens,r=this.pattern,n=!0;return e&&e.length?n=e.indexOf(t)>-1:r&&(n=r.test(t)),n},interpret:function(t){return e.Property.interpret(t)},set:function(t){var e=this.interpret(t);""!==e&&this.isValidToken(e)?this.setAttribute(e):""===e&&this.removeAttribute()},get:function(){return this.interpret(this.getAttribute())},has:function(){return this.hasAttribute()},remove:function(){this.removeAttribute()},setAttribute:function(t){""!==e.Property.interpret(t)?this.element.setAttribute(this.attribute,t):this.removeAttribute()},getAttribute:function(){return this.element.getAttribute(this.attribute)},hasAttribute:function(){return this.element.hasAttribute(this.attribute)},removeAttribute:function(){this.element.removeAttribute(this.attribute)},toString:function(){return this.getAttribute()||""}}),e.Property.interpret=function(t){return null==t?"":String(t).trim()},e.State=e.createClass(e.Property,{isValidToken:function(t){return"boolean"==typeof t||"true"===t||"false"===t},interpret:function(t){return"boolean"==typeof t?!0===t:"true"===t||"false"===t?"true"===t:""}}),e.UndefinedState=e.createClass(e.State,{isValidToken:function(t){return void 0===t||"undefined"===t||this.$super(t)},interpret:function(t){return void 0===t||"undefined"===t?"undefined":this.$super(t)},get:function(){var t=this.$super();return"undefined"===t&&(t=void 0),t}}),e.Tristate=e.createClass(e.State,{isValidToken:function(t){return"mixed"===t||this.$super(t)},interpret:function(t){return"mixed"===t?t:this.$super(t)}});var l=new WeakMap,f=function(t,e){var r=0,n=t.get(),i=n.length;return{next:function(){var t={value:e(n,r),done:r>=i};return r+=1,t},toString:function(){return"Array Iterator"}}},h=function(t,e){this.name=t,this.code=DOMException[t],this.message=e};h.prototype=Error.prototype,e.List=e.createClass(e.Property,{init:function(t,e){var r=this;l.set(r,[]),Object.defineProperty(r,"length",{get:function(){return l.get(r).length}}),this.$super(t,e)},isValidToken:function(t){if(""===t)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");return this.$super(t)},interpret:function(t){var e=Array.isArray(t)?t.join(" "):t,r=this.$super(e);return r.length?r.split(/\s+/):[]},set:function(t){var e=this.interpret(t),r=this.toArray().filter(function(t){return e.indexOf(t)<0});e.length&&this.add.apply(this,e),r.length&&this.remove.apply(this,r),this.setAttribute(this.toString())},get:function(){return this.interpret(this.toString())},has:function(t){return void 0===t?this.hasAttribute():this.contains(t)},toString:function(t){return void 0===t&&(t=" "),l.get(this).join(t)},add:function(){var t=l.get(this);arguments.length&&(n(arguments,function(e){var r=this.interpret(e)[0];this.isValidToken(r)&&t.indexOf(r)<0&&t.push(r)},this),this.setAttribute(this.toString()))},remove:function(){var t,e=l.get(this);arguments.length?(n(arguments,function(t){var r=this.interpret(t)[0],n=this.isValidToken(r)&&e.indexOf(r);n>-1&&e.splice(n,1)},this),""===(t=this.toString())?this.removeAttribute():this.setAttribute(t)):(e.length=0,this.removeAttribute())},contains:function(t){var e=this.interpret(t)[0];return this.isValidToken(e)&&l.get(this).indexOf(e)>-1},item:function(t){return l.get(this)[Math.floor(t)]||null},replace:function(t,e){var r,n,i=!1,o=this.interpret(t)[0],s=this.interpret(e)[0];return this.isValidToken(o)&&this.isValidToken(s)&&(n=(r=l.get(this)).indexOf(o))>-1&&(r.splice(n,1,s),i=!0),i},forEach:function(t,e){l.get(this).forEach(t,e)},toArray:function(t,e){return n(l.get(this),t,e)},entries:function(){return f(this,function(t,e){return[e,t[e]]})},keys:function(){return f(this,function(t,e){return e})},values:function(){return f(this,function(t,e){return t[e]})}}),window.Symbol&&Symbol.iterator&&(e.List.prototype[Symbol.iterator]=e.List.prototype.values),e.Reference=e.createClass(e.Property,{interpret:function(t){return e.Reference.interpret(t)},get:function(){return e.getById(this.getAttribute())},has:function(){return this.hasAttribute()&&null!==this.get()}}),e.Reference.interpret=function(t){return e.isNode(t)?e.identify(t):e.Property.interpret(t)},e.ReferenceList=e.createClass(e.List,{interpret:function(t){return(t&&"object"==typeof t&&"number"==typeof t.length?n(t,e.Reference.interpret,this):"string"==typeof t?this.$super(t):[e.Reference.interpret(t)]).filter(Boolean)},get:function(){return this.toArray(e.getById)},has:function(t){return this.hasAttribute()&&(void 0===t?this.get().filter(Boolean).length===this.length:this.contains(t))}}),e.Element=e.createClass({init:function(t){this.element=t,this.manipulationFlags=Object.create(null),this.preloadAttributes(),this.readAttributes(),this.observeAttributes()},preloadAttributes:function(){Object.keys(e.factories).forEach(function(t){var r;Object.defineProperty(this,t,{get:function(){return r||(r=e.runFactory(t,this.element,e.normalise(t))),r},set:function(e){this[t].set(e)}})},this)},readAttributes:function(){var t=Object.prototype.hasOwnProperty;n(this.element.attributes,function(e){var r=e.name.replace(/^aria\-/,"");t.call(this,r)&&this[r].set(e.value)},this)},observeAttributes:function(){var t=this,r=t.element,n=new MutationObserver(function(n){n.forEach(function(n){var i,o=n.attributeName||"",s=o.slice(5);"attributes"===n.type&&e.factories[s]&&!t.manipulationFlags[s]&&(t.manipulationFlags[s]=!0,r.hasAttribute(o)?(i=e.Property.interpret(r.getAttribute(o)))!==e.Property.interpret(n.oldValue)&&t[s].set(i):t[s].remove(),window.setTimeout(function(){delete t.manipulationFlags[s]},0))})});n.observe(r,{attributes:!0,attributeOldValue:!0}),t.observer=n},disconnectAttributes:function(){this.observer.disconnect()}});var d=e.Property,p=e.List;function b(t,e){Object.defineProperty(Node.prototype,t,{configurable:!0,get:function r(){return Object.defineProperty(Node.prototype,t,{get:void 0}),Object.defineProperty(this,t,{value:e(this)}),Object.defineProperty(Node.prototype,t,{get:r}),this[t]}})}[[d,["keyshortcuts","label","placeholder","roledescription","valuetext"]],[e.Reference,["activedescendant","details","errormessage"]],[e.ReferenceList,["controls","describedby","flowto","labelledby","owns"]],[e.State,["atomic","busy","disabled","modal","multiline","multiselectable","readonly","required"]],[e.Tristate,["checked","pressed"]],[e.UndefinedState,["expanded","grabbed","hidden","selected"]],[d,["colcount","colindex","colspan","level","posinset","rowcount","rowindex","rowspan","setsize"],void 0,/^\d+$/],[d,["valuemax","valuemin","valuenow"],void 0,/^(\d+(\.\d+)?)|\.\d+$/],[d,["autocomplete"],["none","inline","list","both"]],[d,["current"],["false","true","page","step","location","date","time"]],[d,["haspopup"],["false","true","menu","listbox","tree","grid","dialog"]],[d,["invalid"],["false","true","grammar","spelling"]],[d,["live"],["off","assertive","polite"]],[d,["orientation"],[void 0,"undefined","horizontal","vertical"]],[d,["sort"],["none","ascending","descending","other"]],[p,["dropeffect"],["none","copy","execute","link","move","popup"]],[p,["relevant"],["additions","all","removals","text"]]].forEach(function(t){t[1].forEach(function(r){var n,i,o;e.factories[r]=(n=t[0],i=t[2],o=t[3],function(t,e){var r=new n(t,e);return i&&i.length&&r.setTokens(i),o&&r.setPattern(o),r})})}),e.addAlias("labelledby","labeledby"),b("aria",function(t){return new e.Element(t)}),b("role",function(t){return new p(t,"role")}),t.ARIA=e}(window);
//# sourceMappingURL=aria.min.js.map
