/*! ariajs - v0.2.0 - MIT license - https://github.com/Skateside/ariajs - 2018-11-13 */
!function(e){"use strict";var t=function(e){return e},r=function(e,t){return Array.prototype.slice.call(e,t)},n=Array.from||function(e,r,n){return void 0===r&&(r=t),Array.prototype.map.call(e,r,n)},i=Object.assign||function(e){return r(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(r){e[r]=t[r]})}),e},o=function(){},a=/return/.test(o)?/[.'"]\$super\b/:/.*/,s=Number.isNaN||e.isNaN,u=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},c={tokens:i(Object.create(null),{"aria-autocomplete":["none","inline","list","both"],"aria-current":["false","true","page","step","location","date","time"],"aria-dropeffect":["none","copy","execute","link","move","popup"],"aria-haspopup":["false","true","menu","listbox","tree","grid","dialog"],"aria-invalid":["false","true","grammar","spelling"],"aria-live":["off","assertive","polite"],"aria-orientation":[void 0,"undefined","horizontal","vertical"],"aria-relevant":["additions","all","removals","text"],"aria-sort":["none","ascending","descending","other"],role:["alert","alertdialog","application","article","banner","button","cell","checkbox","columnheader","complementary","combobox","contentinfo","definition","dialog","directory","document","feed","figure","form","grid","gridcell","group","heading","img","link","list","listbox","listitem","log","main","marquee","math","menu","menubar","menuitem","menuitemcheckbox","menuitemradio","navigation","none","note","option","presentation","progressbar","radio","radiogroup","region","row","rowgroup","rowheader","scrollbar","search","searchbox","separator","slider","spinbutton","status","switch","tab","table","tablist","tabpanel","term","textbox","timer","toolbar","tooltip","tree","treegrid","treeitem"]})};Object.defineProperty(c,"VERSION",{configurable:!1,enumerable:!0,writable:!1,value:"0.2.0"});var l=e.ARIA;e.ARIA=c,c.getPrevious=function(){return l},c.restorePrevious=function(){return e.ARIA=l,c},c.extendDOM={aria:"aria",role:"role"},c.translate=i(Object.create(null),{"aria-role":"role"});var f=function(e){var t="aria-"+String(e).toLowerCase().replace(/^\s*(?:aria\-)?|\s*$/g,"");return c.translate[t]||t},p={configurable:!1,enumerable:!0,get:function(){return f},set:function(e){f=e}};function d(e,t){var r=this.parent;"object"==typeof e?Object.keys(e).forEach(function(t){d.call(this,t,e[t])},this):this.prototype[e]="function"==typeof t&&"function"==typeof r[e]&&a.test(t)?function(){var n,i="$super"in this,o=this.$super;return this.$super=r[e],n=t.apply(this,arguments),i?this.$super=o:delete this.$super,n}:t}Object.defineProperties(c,{normalise:p,normalize:p}),c.suffixMap=Object.create(null),c.getSuffix=function(e){var t=c.suffixMap[e];return t||(t=e.replace(/^aria\-/,""),c.suffixMap[e]=t),t},c.createClass=function(e,t){function r(){return this.init.apply(this,arguments)}return t||(t=e,e=Object),r.addMethod=d,r.addMethods=d,r.parent=e.prototype,r.prototype=Object.create(e.prototype),d.call(r,t),r.prototype.constructor=r,"function"!=typeof r.prototype.init&&(r.prototype.init=o),r},c.setAttribute=function(e,t,r){e.setAttribute(t,r)},c.getAttribute=function(e,t){return e.getAttribute(t)},c.hasAttribute=function(e,t){return e.hasAttribute(t)},c.removeAttribute=function(e,t){e.removeAttribute(t)},c.getById=function(e){return document.getElementById(e)};var b=0;c.defaultIdentifyPrefix="anonymous-element-",c.identify=function(e,t){var r=c.getAttribute(e,"id");if(void 0===t&&(t=c.defaultIdentifyPrefix),!r){do{r=t+b,b+=1}while(c.getById(r));c.setAttribute(e,"id",r)}return r},c.isNode=function(e){return e instanceof Node},c.WARNING_INVALID_TOKEN="'{0}' is not a valid token for the '{1}' attribute",c.supplant=function(e,t){return e.replace(/\{(\d+)\}/g,function(e,r){var n=t[r];return"string"==typeof n||"number"==typeof n?n:e})},c.enableWarnings=!0,c.warn=function(e){c.enableWarnings&&console.warn("aria.js: "+c.supplant.apply(void 0,[e].concat(r(arguments,1))))},c.Property=c.createClass({init:function(e,t,r){this.element=e,this.attribute=t,this.tokens=r&&Array.isArray(r)?r:[],c.hasAttribute(e,t)&&this.set(c.getAttribute(e,t))},interpret:function(e){return c.Property.interpret(e)},isValidToken:function(e){var t=!this.tokens.length||this.tokens.indexOf(e)>-1;return t||c.warn(c.WARNING_INVALID_TOKEN,e,this.attribute),t},get:function(){var e=this.element,t=this.attribute;return c.hasAttribute(e,t)?this.interpret(c.getAttribute(e,t)):null},set:function(e){var t=this.element,r=this.attribute,n=this.interpret(e);""!==n&&this.isValidToken(n)?c.setAttribute(t,r,n):""===n&&c.removeAttribute(t,r)},toString:function(){return c.getAttribute(this.element,this.attribute)||""}}),c.Property.interpret=function(e){return null==e?"":String(e).trim()},c.Number=c.createClass(c.Property,{interpret:function(e){return parseFloat(this.$super(e))},isValidToken:function(e){var t=this.interpret(e),r=!s(t),n=this.attribute;this.min,this.max;return r||c.warn(c.WARNING_INVALID_TOKEN,e,n),r}}),c.Integer=c.createClass(c.Number,{interpret:function(e){return Math.floor(this.$super(e))}}),c.State=c.createClass(c.Property,{init:function(e,t){this.$super(e,t,["true","false"])},isValidToken:function(e){return"boolean"==typeof e||this.$super(e)},interpret:function(e){var t=this.$super(e),r="true"===t;return r||"false"===t?r:t}}),c.UndefinedState=c.createClass(c.State,{init:function(e,t){this.$super(e,t),this.tokens.push("undefined")},isValidToken:function(e){return void 0===e||this.$super(e)},interpret:function(e){return void 0===e||"undefined"===e?"undefined":this.$super(e)},get:function(){var e=this.$super();return"undefined"===e&&(e=void 0),e}}),c.Tristate=c.createClass(c.State,{init:function(e,t){this.$super(e,t),this.tokens.push("mixed")},interpret:function(e){return"mixed"===e?e:this.$super(e)}}),c.List=c.createClass(c.Property,{init:function(e,t,r){this.list=[],this.$super(e,t,r)},interpret:function(e){var t=Array.isArray(e)?e.join(" "):e,r=this.$super(t);return r.length?r.split(/\s+/):[]},set:function(e){var t=this,r=t.interpret(e).reduce(function(e,r){return r&&t.isValidToken(r)&&e.indexOf(r)<0&&e.push(r),e},[]),n=t.element,i=t.attribute;t.list=r,r.length?c.setAttribute(n,i,r.join(" ")):c.removeAttribute(n,i)},get:function(){return this.list.concat()}}),c.Reference=c.createClass(c.Property,{interpret:function(e){return c.Reference.interpret(e)},get:function(){return c.getById(this.$super())}}),c.Reference.interpret=function(e){return c.isNode(e)?c.identify(e):c.Property.interpret(e)},c.ReferenceList=c.createClass(c.List,{interpret:function(e){return(e&&"object"==typeof e&&"number"==typeof e.length?n(e,c.Reference.interpret,this):"string"==typeof e?this.$super(e):[c.Reference.interpret(e)]).filter(Boolean)},get:function(){return this.$super().map(c.getById)}}),c.Element=c.createClass({init:function(e){return this.element=e,this.instances=Object.create(null),this.readAttributes(),this.observeAttributes(),this.activateTraps()},getInstance:function(e){var t=this.instances[e];return!t&&c.getFactory(e)&&(t=c.runFactory(e,this.element),this.instances[e]=t),t},readAttributes:function(){n(this.element.attributes,function(e){var t=e.value,r=t?this.getInstance(e.name):void 0;r&&r.set(t)},this)},observeAttributes:function(){var e=this;e.observer=c.Element.makeObserver(e.element,function(e){return Boolean(c.factories[e.suffix])},function(t){e[t.suffix]=t.value},function(t){e[t.suffix]=""})},disconnectAttributes:function(){this.observer.disconnect()},activateTraps:function(){return new Proxy(this,{get:function(e,t){var r=e[t],n=e.getInstance(t);return n&&(r=n.get()),r},set:function(e,t,r){var n=e.getInstance(t);return n?n.set(r):e[t]=r,!0},deleteProperty:function(e,t){var r=e.getInstance(t);return r?r.set(""):delete e[t],!0}})}}),c.Element.makeObserver=function(e,t,r,n){var i=Object.create(null),o=new MutationObserver(function(o){o.forEach(function(o){var a=o.attributeName||"",s=c.getSuffix(a),l={attribute:a,suffix:s};"attributes"===o.type&&!i[s]&&t(l)&&(i[s]=!0,c.hasAttribute(e,a)?(l.value=c.Property.interpret(c.getAttribute(e,a)),l.old=c.Property.interpret(o.oldValue),r(l)):n(l),u(function(){delete i[s]}))})});return o.observe(e,{attributes:!0,attributeOldValue:!0}),o},e.Proxy||(c.Element.prototype.activateTraps=function(){var e=this,t=Object.prototype.hasOwnProperty.bind(e);Object.keys(c.factories).forEach(function r(n){var i=!1;Object.defineProperty(e,n,{configurable:!0,get:function(){return e.getInstance(n).get()},set:function(o){var a=e.getInstance(n);return""===o?i=!1:""===o||i||(u(function e(){i&&(t(n)?(u(e),i=!0):(i=!1,a.set(""),r(n)))}),i=!0),a.set(o)}})})}),c.factories=Object.create(null),c.getFactory=function(e){return c.factories[e]||c.factories[c.getSuffix(c.normalise(e))]},c.runFactory=function(e,t){var r=c.getFactory(e);if(!r)throw new ReferenceError(e+" is not a recognised factory");return r(t)},c.makeFactory=function(e,t){return function(r){var n=c.tokens[e];return n||(n=[],c.tokens[e]=n),new t(r,e,n)}},[[c.Property,["autocomplete","current","haspopup","invalid","keyshortcuts","label","live","orientation","placeholder","roledescription","sort","valuetext"]],[c.Reference,["activedescendant","details","errormessage"]],[c.ReferenceList,["controls","describedby","flowto","labelledby","owns"]],[c.State,["atomic","busy","disabled","modal","multiline","multiselectable","readonly","required"]],[c.Tristate,["checked","pressed"]],[c.UndefinedState,["expanded","grabbed","hidden","selected"]],[c.Integer,["colcount","colindex","colspan","level","posinset","rowcount","rowindex","rowspan","setsize"]],[c.Number,["valuemax","valuemin","valuenow"]],[c.List,["dropeffect","relevant","role"]]].forEach(function(e){e[1].forEach(function(t){c.factories[t]=c.makeFactory(c.normalise(t),e[0])})}),c.addAlias=function(e,t){var r=c.normalise(e).slice(5);if(Array.isArray(t)||(t=[t]),!c.getFactory(r))throw new ReferenceError("ARIA.factories."+r+" does not exist");t.forEach(function(e){var t=c.normalise(e).slice(5);c.translate[t]=r,c.factories[t]=c.factories[r]})},c.addAlias("labelledby","labeledby"),function(e){var t,r,n=Node.prototype;function i(e,t){return"string"==typeof e[t]?e[t].trim():""}if(e&&e.extendDOM){if(t=i(e.extendDOM,"aria"),r=i(e.extendDOM,"role"),t&&r&&t===r)throw new Error("ARIA.extendDOM.aria and ARIA.extendDOM.role cannot be the same");t&&(Object.defineProperty(n,t,{configurable:!0,get:function r(){return Object.defineProperty(n,t,{get:void 0}),Object.defineProperty(this,t,{value:new e.Element(this)}),Object.defineProperty(n,t,{get:r}),this[t]}}),r&&Object.defineProperty(n,r,{configurable:!0,get:function(){return this[t].role},set:function(e){this[t].role=e}}))}}(window.ARIA)}(window);
//# sourceMappingURL=aria.min.js.map
