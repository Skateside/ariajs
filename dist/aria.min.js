/*! ariajs - v0.2.0 - MIT license - https://github.com/Skateside/ariajs - 2018-12-31 */
!function(e){"use strict";var t=function(e){return e},r=Array.from||function(e,r,n){return void 0===r&&(r=t),Array.prototype.map.call(e,r,n)},n=Object.assign||function(e){return Array.prototype.forEach.call(arguments,function(t,r){t&&r>0&&Object.keys(t).forEach(function(r){e[r]=t[r]})}),e},i=function(){},o=/return/.test(i)?/[.'"]\$super\b/:/.*/,s=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},a=function(e){return""===e||null==e?"":String(e).trim()},u=function(e,t){return Array.prototype.slice.call(e,t)},c=function(){return JSON.stringify(u(arguments))},f=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l={};Object.defineProperty(l,"VERSION",{configurable:!1,enumerable:!0,writable:!1,value:"0.2.0"});var p=e.ARIA;function v(e,t){var r=this.parent;"object"==typeof e?Object.keys(e).forEach(function(t){v.call(this,t,e[t])},this):this.prototype[e]="function"==typeof t&&"function"==typeof r[e]&&o.test(t)?function(){var n,i="$super"in this,o=this.$super;return this.$super=r[e],n=t.apply(this,arguments),i?this.$super=o:delete this.$super,n}:t}e.ARIA=l,l.getPrevious=function(){return p},l.restorePrevious=function(){return e.ARIA=p,l},l.memoize=function(e,t,r){var n=this;return void 0===r&&(r=Object.create(null)),void 0===t&&(t=c),function(){var i=u(arguments),o=t.apply(n,i),s=r[o];return f(r,o)||(s=e.apply(n,i),r[o]=s),s}},l.prefixCache=Object.create(null),l.suffixCache=Object.create(null),l.translate=n(Object.create(null),{labeledby:"aria-labelledby",role:"role"}),l.untranslate=Object.create(null),l.PREFIX_REGEXP=/^(aria\-)?/,l.addPrefix=l.memoize(function(e){var t=l.removePrefix(e);return l.translate[t]||"aria-"+t},t,l.prefixCache),l.removePrefix=l.memoize(function(e){var t=a(e).toLowerCase();return l.untranslate(t)||t.replace(l.PREFIX_REGEXP,"")},t,l.suffixCache),l.createClass=function(e,t){function r(){return this.init.apply(this,arguments)}return t||(t=e,e=Object),r.addMethod=v,r.addMethods=v,r.parent=e.prototype,r.prototype=Object.create(e.prototype),v.call(r,t),r.prototype.constructor=r,"function"!=typeof r.prototype.init&&(r.prototype.init=i),r},l.setAttribute=function(e,t,r){e.setAttribute(t,r)},l.getAttribute=function(e,t){return e.getAttribute(t)},l.hasAttribute=function(e,t){return e.hasAttribute(t)},l.removeAttribute=function(e,t){e.removeAttribute(t)},l.getById=function(e){return document.getElementById(e)};var d=0;l.defaultIdentifyPrefix="anonymous-element-",l.identify=function(e,t){var r=l.getAttribute(e,"id");if(void 0===t&&(t=l.defaultIdentifyPrefix),!r){do{r=t+d,d+=1}while(l.getById(r));l.setAttribute(e,"id",r)}return r},l.isNode=function(e){return e instanceof Node};var h=new WeakMap;l.Observer=l.createClass({getEventElement:function(){var e=h.get(this);return e||(e=document.createElement("div"),h.set(this,e)),e},createEvent:function(e,t){return new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t})},dispatchEvent:function(e,t){return"string"==typeof e&&(e=this.createEvent(e,t)),this.getEventElement().dispatchEvent(e),e},addEventListener:function(e,t){this.getEventElement().addEventListener(e,t)},removeEventListener:function(e,t){this.getEventElement().removeEventListener(e,t)}});try{new CustomEvent("my-custom-event",{bubbles:!0,cancelable:!0,detail:{}})}catch(e){l.Observer.prototype.createEvent=function(e,t){var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,!0,!0,t),r}}l.observer=new l.Observer,l.trigger=function(e,t){return l.observer.dispatchEvent(e,t)},l.on=function(e,t){l.observer.addEventListener(e,t)},l.off=function(e,t){l.observer.removeEventListener(e,t)},l.Property=l.createClass({init:function(e,t){this.element=e,this.attribute=t,l.hasAttribute(e,t)&&this.set(l.getAttribute(e,t))},interpret:function(e){return l.Property.interpret(e)},trigger:function(e,t){return l.trigger(e,n({element:this.element,attribute:this.attribute},t))},get:function(){var e,t=this.trigger(l.EVENT_PRE_GET),r=this.element,n=this.attribute;return t.defaultPrevented||(e=l.hasAttribute(r,n)?this.interpret(l.getAttribute(r,n)):null,this.trigger(l.EVENT_POST_GET,{value:e})),e},set:function(e){var t=this.interpret(e),r={raw:e,value:t};this.trigger(l.EVENT_PRE_SET,r).defaultPrevented||(""===t?this.remove():l.setAttribute(this.element,this.attribute,t),this.trigger(l.EVENT_POST_SET,r))},remove:function(){this.trigger(l.EVENT_PRE_REMOVE).defaultPrevented||(l.removeAttribute(this.element,this.attribute),this.trigger(l.EVENT_POST_REMOVE))},toString:function(){return l.getAttribute(this.element,this.attribute)||""}}),l.Property.interpret=a,l.EVENT_PRE_SET="ariajs-pre-set",l.EVENT_POST_SET="ariajs-post-set",l.EVENT_PRE_GET="ariajs-pre-get",l.EVENT_POST_GET="ariajs-post-get",l.EVENT_PRE_REMOVE="ariajs-pre-remove",l.EVENT_POST_REMOVE="ariajs-post-remove",l.Number=l.createClass(l.Property,{interpret:function(e){return parseFloat(this.$super(e))}}),l.Integer=l.createClass(l.Number,{interpret:function(e){return Math.floor(this.$super(e))}}),l.State=l.createClass(l.Property,{interpret:function(e){var t=this.$super(e),r="true"===t;return r||"false"===t?r:t}}),l.UndefinedState=l.createClass(l.State,{interpret:function(e){return void 0===e||"undefined"===e?"undefined":this.$super(e)},get:function(){var e=this.$super();return"undefined"===e&&(e=void 0),e}}),l.Tristate=l.createClass(l.State,{interpret:function(e){return"mixed"===e?e:this.$super(e)}}),l.List=l.createClass(l.Property,{init:function(e,t){this.list=[],this.$super(e,t)},interpret:function(e){var t=Array.isArray(e)?e.join(" "):e,r=this.$super(t);return r.length?r.split(/\s+/):[]},set:function(e){var t=this.interpret(e).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),r={raw:e,value:t};this.trigger(l.EVENT_PRE_SET,r).defaultPrevented||(this.list=t,t.length?l.setAttribute(this.element,this.attribute,t.join(" ")):this.remove(),this.trigger(l.EVENT_POST_SET,r))},get:function(e){var t=[];return this.trigger(l.EVENT_PRE_GET).defaultPrevented||(t=r(this.list,e),this.trigger(l.EVENT_POST_GET,{value:t})),t}}),l.Reference=l.createClass(l.Property,{interpret:function(e){return l.Reference.interpret(e)},get:function(){return l.getById(this.$super())}}),l.Reference.interpret=function(e){return l.isNode(e)?l.identify(e):l.Property.interpret(e)},l.ReferenceList=l.createClass(l.List,{interpret:function(e){return(e&&"object"==typeof e&&"number"==typeof e.length?r(e,l.Reference.interpret,this):"string"==typeof e?this.$super(e):[l.Reference.interpret(e)]).filter(Boolean)},get:function(){return this.$super(l.getById)}}),l.Element=l.createClass({init:function(e){return this.element=e,this.instances=Object.create(null),this.readAttributes(),this.observeAttributes(),this.activateTraps()},getInstance:function(e){var t=this.instances[e];return!t&&l.getFactory(e)&&(t=l.runFactory(e,this.element),this.instances[e]=t),t},readAttributes:function(){r(this.element.attributes,function(e){var t=e.value,r=t?this.getInstance(e.name):void 0;r&&r.set(t)},this)},observeAttributes:function(){var e=this;e.observer=l.Element.makeObserver(e.element,function(e){return Boolean(l.factories[e.suffix])},function(t){e[t.suffix]=t.value},function(t){e[t.suffix]=""})},disconnectAttributes:function(){this.observer.disconnect()},activateTraps:function(){return new Proxy(this,{get:function(e,t){var r=e[t],n=e.getInstance(t);return n&&(r=n.get()),r},set:function(e,t,r){var n=e.getInstance(t);return n?n.set(r):e[t]=r,!0},deleteProperty:function(e,t){var r=e.getInstance(t);return r?r.set(""):delete e[t],!0}})}}),l.Element.makeObserver=function(e,t,r,n){var i=Object.create(null),o=new MutationObserver(function(o){o.forEach(function(o){var a=o.attributeName||"",u=l.removePrefix(a),c={attribute:a,suffix:u};"attributes"===o.type&&!i[u]&&t(c)&&(i[u]=!0,l.hasAttribute(e,a)?(c.value=l.Property.interpret(l.getAttribute(e,a)),c.old=l.Property.interpret(o.oldValue),r(c)):n(c),s(function(){delete i[u]}))})});return o.observe(e,{attributes:!0,attributeOldValue:!0}),o},e.Proxy||(l.Element.prototype.activateTraps=function(){var e=this;Object.keys(l.factories).forEach(function t(r){var n=!1;Object.defineProperty(e,r,{configurable:!0,get:function(){return e.getInstance(r).get()},set:function(i){var o=e.getInstance(r);return""===i?n=!1:""===i||n||(s(function i(){n&&(f(e,r)?(s(i),n=!0):(n=!1,o.set(""),t(r)))}),n=!0),o.set(i)}})})}),l.factories=Object.create(null),l.getFactory=function(e){return l.factories[e]||l.factories[l.removePrefix(e)]},l.runFactory=function(e,t){var r=l.getFactory(e);if(!r)throw new ReferenceError(e+" is not a recognised factory");return r(t)},l.makeFactory=function(e,t){return function(r){return new t(r,e)}},l.factoryEntries=[[l.Property,["autocomplete","current","haspopup","invalid","keyshortcuts","label","live","orientation","placeholder","roledescription","sort","valuetext"]],[l.Reference,["activedescendant","details","errormessage"]],[l.ReferenceList,["controls","describedby","flowto","labelledby","owns"]],[l.State,["atomic","busy","disabled","modal","multiline","multiselectable","readonly","required"]],[l.Tristate,["checked","pressed"]],[l.UndefinedState,["expanded","grabbed","hidden","selected"]],[l.Integer,["colcount","colindex","colspan","level","posinset","rowcount","rowindex","rowspan","setsize"]],[l.Number,["valuemax","valuemin","valuenow"]],[l.List,["dropeffect","relevant","role"]]],l.createFactories=function(){l.factoryEntries.forEach(function(e){e[1].forEach(function(t){l.factories[t]=l.makeFactory(l.addPrefix(t),e[0])})})},l.createFactories(),l.addAlias=function(e,t){var r=l.removePrefix(e);if(Array.isArray(t)||(t=[t]),!l.getFactory(r))throw new ReferenceError("ARIA.factories."+r+" does not exist");t.forEach(function(e){var t=l.removePrefix(e);l.translate[t]=r,l.factories[t]=l.factories[r]})},l.addAlias("labelledby","labeledby")}(window);
//# sourceMappingURL=aria.min.js.map
