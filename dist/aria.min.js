/*! ariajs - v0.2.0 - MIT license - https://github.com/Skateside/ariajs - 2018-11-14 */
!function(t){"use strict";var e=function(t){return t},r=Array.from||function(t,r,n){return void 0===r&&(r=e),Array.prototype.map.call(t,r,n)},n=Object.assign||function(t){return Array.prototype.forEach.call(arguments,function(e,r){e&&r>0&&Object.keys(e).forEach(function(r){t[r]=e[r]})}),t},i=function(){},o=/return/.test(i)?/[.'"]\$super\b/:/.*/,u=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},s={};Object.defineProperty(s,"VERSION",{configurable:!1,enumerable:!0,writable:!1,value:"0.2.0"});var a=t.ARIA;t.ARIA=s,s.getPrevious=function(){return a},s.restorePrevious=function(){return t.ARIA=a,s},s.translate=n(Object.create(null),{"aria-role":"role"});var c=function(t){var e="aria-"+String(t).toLowerCase().replace(/^\s*(?:aria\-)?|\s*$/g,"");return s.translate[e]||e},f={configurable:!1,enumerable:!0,get:function(){return c},set:function(t){c=t}};function l(t,e){var r=this.parent;"object"==typeof t?Object.keys(t).forEach(function(e){l.call(this,e,t[e])},this):this.prototype[t]="function"==typeof e&&"function"==typeof r[t]&&o.test(e)?function(){var n,i="$super"in this,o=this.$super;return this.$super=r[t],n=e.apply(this,arguments),i?this.$super=o:delete this.$super,n}:e}Object.defineProperties(s,{normalise:f,normalize:f}),s.suffixMap=Object.create(null),s.getSuffix=function(t){var e=s.suffixMap[t];return e||(e=t.replace(/^aria\-/,""),s.suffixMap[t]=e),e},s.createClass=function(t,e){function r(){return this.init.apply(this,arguments)}return e||(e=t,t=Object),r.addMethod=l,r.addMethods=l,r.parent=t.prototype,r.prototype=Object.create(t.prototype),l.call(r,e),r.prototype.constructor=r,"function"!=typeof r.prototype.init&&(r.prototype.init=i),r},s.setAttribute=function(t,e,r){t.setAttribute(e,r)},s.getAttribute=function(t,e){return t.getAttribute(e)},s.hasAttribute=function(t,e){return t.hasAttribute(e)},s.removeAttribute=function(t,e){t.removeAttribute(e)},s.getById=function(t){return document.getElementById(t)};var p=0;s.defaultIdentifyPrefix="anonymous-element-",s.identify=function(t,e){var r=s.getAttribute(t,"id");if(void 0===e&&(e=s.defaultIdentifyPrefix),!r){do{r=e+p,p+=1}while(s.getById(r));s.setAttribute(t,"id",r)}return r},s.isNode=function(t){return t instanceof Node},s.Property=s.createClass({init:function(t,e){this.element=t,this.attribute=e,s.hasAttribute(t,e)&&this.set(s.getAttribute(t,e))},interpret:function(t){return s.Property.interpret(t)},get:function(){var t=this.element,e=this.attribute;return s.hasAttribute(t,e)?this.interpret(s.getAttribute(t,e)):null},set:function(t){var e=this.element,r=this.attribute,n=this.interpret(t);""===n?s.removeAttribute(e,r):s.setAttribute(e,r,n)},toString:function(){return s.getAttribute(this.element,this.attribute)||""}}),s.Property.interpret=function(t){return null==t?"":String(t).trim()},s.Number=s.createClass(s.Property,{interpret:function(t){return parseFloat(this.$super(t))}}),s.Integer=s.createClass(s.Number,{interpret:function(t){return Math.floor(this.$super(t))}}),s.State=s.createClass(s.Property,{interpret:function(t){var e=this.$super(t),r="true"===e;return r||"false"===e?r:e}}),s.UndefinedState=s.createClass(s.State,{interpret:function(t){return void 0===t||"undefined"===t?"undefined":this.$super(t)},get:function(){var t=this.$super();return"undefined"===t&&(t=void 0),t}}),s.Tristate=s.createClass(s.State,{interpret:function(t){return"mixed"===t?t:this.$super(t)}}),s.List=s.createClass(s.Property,{init:function(t,e){this.list=[],this.$super(t,e)},interpret:function(t){var e=Array.isArray(t)?t.join(" "):t,r=this.$super(e);return r.length?r.split(/\s+/):[]},set:function(t){var e=this.interpret(t).reduce(function(t,e){return e&&t.indexOf(e)<0&&t.push(e),t},[]),r=this.element,n=this.attribute;this.list=e,e.length?s.setAttribute(r,n,e.join(" ")):s.removeAttribute(r,n)},get:function(){return this.list.concat()}}),s.Reference=s.createClass(s.Property,{interpret:function(t){return s.Reference.interpret(t)},get:function(){return s.getById(this.$super())}}),s.Reference.interpret=function(t){return s.isNode(t)?s.identify(t):s.Property.interpret(t)},s.ReferenceList=s.createClass(s.List,{interpret:function(t){return(t&&"object"==typeof t&&"number"==typeof t.length?r(t,s.Reference.interpret,this):"string"==typeof t?this.$super(t):[s.Reference.interpret(t)]).filter(Boolean)},get:function(){return this.$super().map(s.getById)}}),s.Element=s.createClass({init:function(t){return this.element=t,this.instances=Object.create(null),this.readAttributes(),this.observeAttributes(),this.activateTraps()},getInstance:function(t){var e=this.instances[t];return!e&&s.getFactory(t)&&(e=s.runFactory(t,this.element),this.instances[t]=e),e},readAttributes:function(){r(this.element.attributes,function(t){var e=t.value,r=e?this.getInstance(t.name):void 0;r&&r.set(e)},this)},observeAttributes:function(){var t=this;t.observer=s.Element.makeObserver(t.element,function(t){return Boolean(s.factories[t.suffix])},function(e){t[e.suffix]=e.value},function(e){t[e.suffix]=""})},disconnectAttributes:function(){this.observer.disconnect()},activateTraps:function(){return new Proxy(this,{get:function(t,e){var r=t[e],n=t.getInstance(e);return n&&(r=n.get()),r},set:function(t,e,r){var n=t.getInstance(e);return n?n.set(r):t[e]=r,!0},deleteProperty:function(t,e){var r=t.getInstance(e);return r?r.set(""):delete t[e],!0}})}}),s.Element.makeObserver=function(t,e,r,n){var i=Object.create(null),o=new MutationObserver(function(o){o.forEach(function(o){var a=o.attributeName||"",c=s.getSuffix(a),f={attribute:a,suffix:c};"attributes"===o.type&&!i[c]&&e(f)&&(i[c]=!0,s.hasAttribute(t,a)?(f.value=s.Property.interpret(s.getAttribute(t,a)),f.old=s.Property.interpret(o.oldValue),r(f)):n(f),u(function(){delete i[c]}))})});return o.observe(t,{attributes:!0,attributeOldValue:!0}),o},t.Proxy||(s.Element.prototype.activateTraps=function(){var t=this,e=Object.prototype.hasOwnProperty.bind(t);Object.keys(s.factories).forEach(function r(n){var i=!1;Object.defineProperty(t,n,{configurable:!0,get:function(){return t.getInstance(n).get()},set:function(o){var s=t.getInstance(n);return""===o?i=!1:""===o||i||(u(function t(){i&&(e(n)?(u(t),i=!0):(i=!1,s.set(""),r(n)))}),i=!0),s.set(o)}})})}),s.factories=Object.create(null),s.getFactory=function(t){return s.factories[t]||s.factories[s.getSuffix(s.normalise(t))]},s.runFactory=function(t,e){var r=s.getFactory(t);if(!r)throw new ReferenceError(t+" is not a recognised factory");return r(e)},s.makeFactory=function(t,e){return function(r){return new e(r,t)}},[[s.Property,["autocomplete","current","haspopup","invalid","keyshortcuts","label","live","orientation","placeholder","roledescription","sort","valuetext"]],[s.Reference,["activedescendant","details","errormessage"]],[s.ReferenceList,["controls","describedby","flowto","labelledby","owns"]],[s.State,["atomic","busy","disabled","modal","multiline","multiselectable","readonly","required"]],[s.Tristate,["checked","pressed"]],[s.UndefinedState,["expanded","grabbed","hidden","selected"]],[s.Integer,["colcount","colindex","colspan","level","posinset","rowcount","rowindex","rowspan","setsize"]],[s.Number,["valuemax","valuemin","valuenow"]],[s.List,["dropeffect","relevant","role"]]].forEach(function(t){t[1].forEach(function(e){s.factories[e]=s.makeFactory(s.normalise(e),t[0])})}),s.addAlias=function(t,e){var r=s.getSuffix(s.normalise(t));if(Array.isArray(e)||(e=[e]),!s.getFactory(r))throw new ReferenceError("ARIA.factories."+r+" does not exist");e.forEach(function(t){var e=s.getSuffix(s.normalise(t));s.translate[e]=r,s.factories[e]=s.factories[r]})},s.addAlias("labelledby","labeledby")}(window);
//# sourceMappingURL=aria.min.js.map
