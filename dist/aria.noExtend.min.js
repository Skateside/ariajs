/*! ariajs - v0.2.0 - MIT license - https://github.com/Skateside/ariajs - 2018-11-11 */
!function(t){"use strict";var e=function(t){return t},r=function(t,e){return Array.prototype.slice.call(t,e)},n=Array.from||function(t,r,n){return void 0===r&&(r=e),Array.prototype.map.call(t,r,n)},i=Object.assign||function(t){return r(arguments,1).forEach(function(e){e&&Object.keys(e).forEach(function(r){t[r]=e[r]})}),t},o=function(){},a=/return/.test(o)?/[.'"]\$super\b/:/.*/,s=Number.isNaN||t.isNaN,u=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},c={tokens:i(Object.create(null),{"aria-autocomplete":["none","inline","list","both"],"aria-current":["false","true","page","step","location","date","time"],"aria-dropeffect":["none","copy","execute","link","move","popup"],"aria-haspopup":["false","true","menu","listbox","tree","grid","dialog"],"aria-invalid":["false","true","grammar","spelling"],"aria-live":["off","assertive","polite"],"aria-orientation":[void 0,"undefined","horizontal","vertical"],"aria-relevant":["additions","all","removals","text"],"aria-sort":["none","ascending","descending","other"],role:["alert","alertdialog","application","article","banner","button","cell","checkbox","columnheader","complementary","combobox","contentinfo","definition","dialog","directory","document","feed","figure","form","grid","gridcell","group","heading","img","link","list","listbox","listitem","log","main","marquee","math","menu","menubar","menuitem","menuitemcheckbox","menuitemradio","navigation","none","note","option","presentation","progressbar","radio","radiogroup","region","row","rowgroup","rowheader","scrollbar","search","searchbox","separator","slider","spinbutton","status","switch","tab","table","tablist","tabpanel","term","textbox","timer","toolbar","tooltip","tree","treegrid","treeitem"]})};Object.defineProperty(c,"VERSION",{configurable:!1,enumerable:!0,writable:!1,value:"0.2.0"});var l=t.ARIA;t.ARIA=c,c.getPrevious=function(){return l},c.restorePrevious=function(){return t.ARIA=l,c},c.extendDOM="aria",c.translate=i(Object.create(null),{"aria-role":"role","aria-tabindex":"tabindex"});var f=function(t){var e="aria-"+String(t).toLowerCase().replace(/^\s*(?:aria\-)?|\s*$/g,"");return c.translate[e]||e},p={configurable:!1,enumerable:!0,get:function(){return f},set:function(t){f=t}};function d(t,e){var r=this.parent;"object"==typeof t?Object.keys(t).forEach(function(e){d.call(this,e,t[e])},this):this.prototype[t]="function"==typeof e&&"function"==typeof r[t]&&a.test(e)?function(){var n,i="$super"in this,o=this.$super;return this.$super=r[t],n=e.apply(this,arguments),i?this.$super=o:delete this.$super,n}:e}Object.defineProperties(c,{normalise:p,normalize:p}),c.suffixMap=Object.create(null),c.getSuffix=function(t){var e=c.suffixMap[t];return e||(e=t.replace(/^aria\-/,""),c.suffixMap[t]=e),e},c.createClass=function(t,e){function r(){return this.init.apply(this,arguments)}return e||(e=t,t=Object),r.addMethod=d,r.addMethods=d,r.parent=t.prototype,r.prototype=Object.create(t.prototype),d.call(r,e),r.prototype.constructor=r,"function"!=typeof r.prototype.init&&(r.prototype.init=o),r},c.setAttribute=function(t,e,r){t.setAttribute(e,r)},c.getAttribute=function(t,e){return t.getAttribute(e)},c.hasAttribute=function(t,e){return t.hasAttribute(e)},c.removeAttribute=function(t,e){t.removeAttribute(e)},c.getById=function(t){return document.getElementById(t)};var h=0;c.defaultIdentifyPrefix="anonymous-element-",c.identify=function(t,e){var r=c.getAttribute(t,"id");if(void 0===e&&(e=c.defaultIdentifyPrefix),!r){do{r=e+h,h+=1}while(c.getById(r));c.setAttribute(t,"id",r)}return r},c.isNode=function(t){return t instanceof Node},c.WARNING_INVALID_TOKEN="'{0}' is not a valid token for the '{1}' attribute",c.WARNING_VALUE_TOO_LOW="The value for the '{1}' attribute should be at least {2}, {0} given",c.WARNING_VALUE_TOO_HIGH="The value for the '{1}' attribute should be at most {2}, {0} given",c.supplant=function(t,e){return t.replace(/\{(\d+)\}/g,function(t,r){var n=e[r];return"string"==typeof n||"number"==typeof n?n:t})},c.enableWarnings=!0,c.warn=function(t){c.enableWarnings&&console.warn("aria.js: "+c.supplant(t,r(arguments,1)))},c.Property=c.createClass({init:function(t,e,r){this.element=t,this.attribute=e,this.tokens=r&&Array.isArray(r)?r:[],c.hasAttribute(t,e)&&this.set(c.getAttribute(t,e))},interpret:function(t){return c.Property.interpret(t)},isValidToken:function(t){var e=!this.tokens.length||this.tokens.indexOf(t)>-1;return e||c.warn(c.WARNING_INVALID_TOKEN,t,this.attribute),e},get:function(){var t=this.element,e=this.attribute;return c.hasAttribute(t,e)?this.interpret(c.getAttribute(t,e)):null},set:function(t){var e=this.element,r=this.attribute,n=this.interpret(t);""!==n&&this.isValidToken(n)?c.setAttribute(e,r,n):""===n&&c.removeAttribute(e,r)},toString:function(){return c.getAttribute(this.element,this.attribute)||""}}),c.Property.interpret=function(t){return null==t?"":String(t).trim()},c.Number=c.createClass(c.Property,{interpret:function(t){return parseFloat(this.$super(t))},isValidToken:function(t){var e=this.interpret(t),r=!s(e),n=this.attribute,i=this.min,o=this.max;return r?!s(i)&&e<i?(c.warn(c.WARNING_VALUE_TOO_LOW,t,n,i),r=!1):!s(o)&&e>o&&(c.warn(c.WARNING_VALUE_TOO_HIGH,t,n,o),r=!1):c.warn(c.WARNING_INVALID_TOKEN,t,n),r},setMin:function(t){this.min=this.interpret(t)},setMax:function(t){this.max=this.interpret(t)}}),c.Integer=c.createClass(c.Number,{interpret:function(t){return Math.floor(this.$super(t))}}),c.State=c.createClass(c.Property,{init:function(t,e){this.$super(t,e,["true","false"])},isValidToken:function(t){return"boolean"==typeof t||this.$super(t)},interpret:function(t){var e=this.$super(t),r="true"===e;return r||"false"===e?r:e}}),c.UndefinedState=c.createClass(c.State,{init:function(t,e){this.$super(t,e),this.tokens.push("undefined")},isValidToken:function(t){return void 0===t||this.$super(t)},interpret:function(t){return void 0===t||"undefined"===t?"undefined":this.$super(t)},get:function(){var t=this.$super();return"undefined"===t&&(t=void 0),t}}),c.Tristate=c.createClass(c.State,{init:function(t,e){this.$super(t,e),this.tokens.push("mixed")},interpret:function(t){return"mixed"===t?t:this.$super(t)}}),c.List=c.createClass(c.Property,{init:function(t,e,r){this.list=[],this.$super(t,e,r)},interpret:function(t){var e=Array.isArray(t)?t.join(" "):t,r=this.$super(e);return r.length?r.split(/\s+/):[]},set:function(t){var e=this,r=e.interpret(t).reduce(function(t,r){return r&&e.isValidToken(r)&&t.indexOf(r)<0&&t.push(r),t},[]),n=e.element,i=e.attribute;e.list=r,r.length?c.setAttribute(n,i,r.join(" ")):c.removeAttribute(n,i)},get:function(){return this.list.concat()}}),c.Reference=c.createClass(c.Property,{interpret:function(t){return c.Reference.interpret(t)},get:function(){return c.getById(this.$super())}}),c.Reference.interpret=function(t){return c.isNode(t)?c.identify(t):c.Property.interpret(t)},c.ReferenceList=c.createClass(c.List,{interpret:function(t){return(t&&"object"==typeof t&&"number"==typeof t.length?n(t,c.Reference.interpret,this):"string"==typeof t?this.$super(t):[c.Reference.interpret(t)]).filter(Boolean)},get:function(){return this.$super().map(c.getById)}}),c.Element=c.createClass({init:function(t){return this.element=t,this.instances=Object.create(null),this.readAttributes(),this.observeAttributes(),this.activateTraps()},getInstance:function(t){var e=this.instances[t];return!e&&c.getFactory(t)&&(e=c.runFactory(t,this.element),this.instances[t]=e),e},readAttributes:function(){n(this.element.attributes,function(t){var e=t.value,r=e?this.getInstance(t.name):void 0;r&&r.set(e)},this)},observeAttributes:function(){var t=this;t.observer=c.Element.makeObserver(t.element,function(t){return Boolean(c.factories[t.suffix])},function(e){t[e.suffix]=e.value},function(e){t[e.suffix]=""})},disconnectAttributes:function(){this.observer.disconnect()},activateTraps:function(){return new Proxy(this,{get:function(t,e){var r=t[e],n=t.getInstance(e);return n&&(r=n.get()),r},set:function(t,e,r){var n=t.getInstance(e);return n?n.set(r):t[e]=r,r},deleteProperty:function(t,e){var r=t.getInstance(e);return r?r.set(""):delete t[e],!0}})}}),c.Element.makeObserver=function(t,e,r,n){var i=Object.create(null),o=new MutationObserver(function(o){o.forEach(function(o){var a=o.attributeName||"",s=c.getSuffix(a),l={attribute:a,suffix:s};"attributes"===o.type&&!i[s]&&e(l)&&(i[s]=!0,c.hasAttribute(t,a)?(l.value=c.Property.interpret(c.getAttribute(t,a)),l.old=c.Property.interpret(o.oldValue),r(l)):n(l),u(function(){delete i[s]}))})});return o.observe(t,{attributes:!0,attributeOldValue:!0}),o},t.Proxy||(c.Element.prototype.activateTraps=function(){var t=this,e=Object.prototype.hasOwnProperty.bind(t);Object.keys(c.factories).forEach(function r(n){var i=!1;Object.defineProperty(t,n,{configurable:!0,get:function(){return t.getInstance(n).get()},set:function(o){var a=t.getInstance(n);return""===o?i=!1:""===o||i||(u(function t(){i&&(e(n)?(u(t),i=!0):(i=!1,a.set(""),r(n)))}),i=!0),a.set(o)}})})}),c.factories=Object.create(null),c.getFactory=function(t){return c.factories[t]||c.factories[c.getSuffix(c.normalise(t))]},c.runFactory=function(t,e){var r=c.getFactory(t);if(!r)throw new ReferenceError(t+" is not a recognised factory");return r(e)},c.makeFactory=function(t,e,r){return function(n){var i,o=c.tokens[t];return o||(o=[],c.tokens[t]=o),i=new e(n,t,o),"function"==typeof r&&r(i),i}},[[c.Property,["autocomplete","current","haspopup","invalid","keyshortcuts","label","live","orientation","placeholder","roledescription","sort","valuetext"]],[c.Reference,["activedescendant","details","errormessage"]],[c.ReferenceList,["controls","describedby","flowto","labelledby","owns"]],[c.State,["atomic","busy","disabled","modal","multiline","multiselectable","readonly","required"]],[c.Tristate,["checked","pressed"]],[c.UndefinedState,["expanded","grabbed","hidden","selected"]],[c.Integer,["colcount","colindex","colspan","level","posinset","rowcount","rowindex","rowspan","setsize"]],[c.Integer,["tabindex"],function(t){var e=Math.pow(2,16);t.setMin(e/-2),t.setMax(e/2-1)}],[c.Number,["valuemax","valuemin","valuenow"]],[c.List,["dropeffect","relevant","role"]]].forEach(function(t){t[1].forEach(function(e){c.factories[e]=c.makeFactory(c.normalise(e),t[0],t[2])})}),c.addAlias=function(t,e){var r=c.normalise(t).slice(5);if(Array.isArray(e)||(e=[e]),!c.getFactory(r))throw new ReferenceError("ARIA.factories."+r+" does not exist");e.forEach(function(t){var e=c.normalise(t).slice(5);c.translate[e]=r,c.factories[e]=c.factories[r]})},c.addAlias("labelledby","labeledby")}(window);
//# sourceMappingURL=aria.noExtend.min.js.map
